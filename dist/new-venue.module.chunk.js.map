{"version":3,"sources":["/Users/develapps/bevvie-front/src/app/views/new-venue/new-venue-routing.module.ts","/Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.component.html","/Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.component.ts","/Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAyC;AACc;AAEC;AAExD,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+EAAiB;QAC5B,IAAI,EAAE;YACJ,KAAK,EAAE,OAAO;SACf;KACF;CACF,CAAC;AAMF,IAAa,qBAAqB;IAAlC;IAAoC,CAAC;IAAD,4BAAC;AAAD,CAAC;AAAxB,qBAAqB;IAJjC,+DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,qEAAY,CAAC;KACxB,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;ACnBlC,87BAA87B,wmBAAwmB,6BAA6B,MAAM,4hBAA4hB,cAAc,6VAA6V,cAAc,ggBAAggB,cAAc,s+DAAs+D,8EAA8E,2FAA2F,SAAS,oEAAoE,OAAO,2C;;;;;;;;;;;;;;;;;;;;;;ACApnK;AAC1B;AACZ;AAIQ;AAS7D,IAAa,iBAAiB;IA0B5B,2BAAoB,YAA0B,EAC1B,cAA8B,EAC9B,YAA4B,EAC7B,MAAc;QAHb,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAgB;QAC7B,WAAM,GAAN,MAAM,CAAQ;QAzBjC,WAAM,GAAG;YACP,IAAI,EAAG,EAAE;YACT,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,QAAQ,EAAE;gBACR,IAAI,EAAE,OAAO;gBACb,WAAW,EAAC,EAAE;aACf;YACD,QAAQ,EAAC,EAAE;SACZ,CAAC;QACF,UAAK,GAAG,EAAE,CAAC;QACX,YAAO,GAAG,EAAE,CAAC;QAIb,aAAQ,GAAqB,EAAE,CAAC;QAGhC,kBAAa,GAAW,KAAK,CAAC;QAQ5B,IAAI,CAAC,MAAM,GAAG,IAAI,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,oCAAQ,GAAR;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,GAAG,WAAW,CAAC;QAClD,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,yCAAa,GAAb,UAAc,GAAU;QACtB,MAAM,EAAC,GAAG,CAAC,EAAC;YACV,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;YACf,KAAK,CAAC;gBACJ,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;IACH,CAAC;IACO,8CAAkB,GAA1B;QACE,OAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YAC/B,IAAI,GAAG,GAAG;gBACR,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC;gBAC/B,QAAQ,EAAE,IAAI,IAAI,EAAE;gBACpB,SAAS,EAAE,IAAI,IAAI,EAAE;gBACrB,OAAO,EAAE,KAAK;aACf,CAAC;YACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC;IACH,CAAC;IAED,2CAAe,GAAf,UAAgB,SAAc;QAA9B,iBAwBC;QAvBC,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;QAE9B,MAAM,CAAC,MAAM,GAAG,UAAC,CAAM;YACrB,KAAI,CAAC,WAAW,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;QAErC,CAAC;QACD,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACtD,SAAS,CAAC,kBAAQ;YACf,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,KAAI,CAAC,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC;YACjC,KAAI,CAAC,OAAO,GAAG,+BAA+B,CAAC;QACjD,CAAC,EACD,aAAG;YACD,EAAE,EAAC,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC3B,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC3B,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAClC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC;QACpC,CAAC,CAAC,CAAC;IACT,CAAC;IAED,wCAAY,GAAZ;QAAA,iBAsBC;QArBC,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAI;YACpB,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC;gBAChB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAGhC,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;aACxC,SAAS,CAAC,kBAAQ;YACf,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC,EACD,aAAG;YACD,EAAE,EAAC,GAAG,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACtB,KAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC3B,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC3B,CAAC;YACD,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YAClC,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC;QACpC,CAAC,CAAC,CAAC;IACT,CAAC;IAEO,yCAAa,GAArB;QACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACpB,CAAC;IACH,wBAAC;AAAD,CAAC;AAxHsB;IAApB,gEAAS,CAAC,QAAQ,CAAC;kDAAS,yDAAU,oBAAV,yDAAU;iDAAC;AAF7B,iBAAiB;IAL7B,gEAAS,CAAC;QACT,gGAAuC;KACxC,CAAC;yDA6BkC,6EAAY,oBAAZ,6EAAY,sDACV,uEAAc,oBAAd,uEAAc,sDAChB,2EAAc,oBAAd,2EAAc,sDACrB,+DAAM,oBAAN,+DAAM;GA7BtB,iBAAiB,CA0H7B;AA1H6B;;;;;;;;;;;;;;;;;;;;;;;;;ACfW;AAEiB;AACV;AACD;AACE;AACJ;AACsB;AAYnE,IAAa,cAAc;IAA3B;IAA8B,CAAC;IAAD,qBAAC;AAAD,CAAC;AAAlB,cAAc;IAV1B,+DAAQ,CAAC;QACR,OAAO,EAAE;YACP,wFAAqB;YACrB,qEAAY;YACZ,sEAAU;YACV,uEAAgB;YAChB,mEAAW;SACZ;QACD,YAAY,EAAE,CAAE,+EAAiB,CAAE;KACpC,CAAC;GACW,cAAc,CAAI;AAAJ","file":"new-venue.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport {NewVenueComponent} from \"./new-venue.component\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewVenueComponent,\n    data: {\n      title: 'Venue'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NewVenueRoutingModule {}\n\n\n\n// WEBPACK FOOTER //\n// /Users/develapps/bevvie-front/src/app/views/new-venue/new-venue-routing.module.ts","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-12\\\">\\n    <div class=\\\"card\\\">\\n      <div class=\\\"card-header\\\">\\n        <h2 #header></h2>\\n      </div>\\n      <div class=\\\"card-body\\\">\\n        <form action=\\\"\\\" method=\\\"post\\\" enctype=\\\"multipart/form-data\\\" class=\\\"form-horizontal\\\">\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-md-3 col-form-label\\\" >Name</label>\\n            <div class=\\\"col-md-9\\\">\\n              <input type=\\\"text\\\" id=\\\"text-input\\\" name=\\\"text-input\\\" class=\\\"form-control\\\" placeholder=\\\"Text\\\" [(ngModel)]=\\\"params.name\\\">\\n            </div>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-md-3 col-form-label\\\" for=\\\"file-input\\\">Image</label>\\n            <div class=\\\"col-sm-9 col-md-4\\\">\\n              <div class=\\\"card\\\">\\n                <div class=\\\"card-body\\\">\\n                  <img [src]=\\\"customImage\\\" style=\\\"width: 100%;\\\" *ngIf=\\\"customImage != null\\\">\\n                </div>\\n                <div class=\\\"card-footer\\\">\\n                  <input type=\\\"file\\\" (change)=\\\"fileChangeEvent($event)\\\" id=\\\"file-input\\\" name=\\\"file-input\\\" accept=\\\"image/*\\\">\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-md-3 col-form-label\\\" for=\\\"text-input\\\">Schedule</label>\\n            <div class=\\\"col-md-9\\\">\\n              <tabset>\\n                <tab *ngFor=\\\"let data of schedule\\\">\\n                  <ng-template tabHeading>{{stringifyDays(data.weekday)}}&nbsp;<span *ngIf=\\\"data.isClose\\\" class=\\\"badge badge-danger\\\">Closed</span></ng-template>\\n\\n                  <div class=\\\"card\\\" [ngClass]=\\\"data.isClose ? 'card-accent-danger': ''\\\">\\n                    <div class=\\\"card-body\\\">\\n                      <div class=\\\"row\\\">\\n                        <div class=\\\"form-group col-sm-6\\\">\\n                          <div class=\\\"input-group\\\">\\n                            <label for=\\\"start\\\">Start</label>\\n                            <timepicker [(ngModel)]=\\\"data.openTime\\\" name=\\\"openTime{{data.weekday}}\\\"></timepicker>\\n                          </div>\\n                        </div>\\n                        <div class=\\\"form-group col-sm-6\\\">\\n                          <div class=\\\"input-group\\\">\\n                            <label for=\\\"end\\\">End</label>\\n                            <timepicker [(ngModel)]=\\\"data.closeTime\\\" name=\\\"closeTime{{data.weekday}}\\\"></timepicker>\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                    <div class=\\\"card-footer\\\">\\n                      <label for=\\\"isClosed\\\">This day is closed?</label>\\n                      <label class=\\\"switch switch-sm switch-text switch-danger float-right mb-0\\\">\\n                        <input type=\\\"checkbox\\\" class=\\\"switch-input\\\" [(ngModel)]=\\\"data.isClose\\\" [checked]=\\\"data.isClose\\\" name=\\\"isClosed{{data.weekday}}\\\">\\n                        <span class=\\\"switch-label\\\" data-on=\\\"Yes\\\" data-off=\\\"No\\\"></span>\\n                        <span class=\\\"switch-handle\\\"></span>\\n                      </label>\\n                    </div>\\n                  </div>\\n                </tab>\\n              </tabset>\\n            </div>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-md-3 col-form-label\\\" for=\\\"text-input\\\">Coordinates</label>\\n            <div class=\\\"col-md-9\\\">\\n              <div class=\\\"row\\\">\\n                <div class=\\\"form-group col-sm-4\\\">\\n                  <label for=\\\"city\\\">Latitude</label>\\n                  <input class=\\\"form-control\\\" id=\\\"city\\\" placeholder=\\\"Latitude\\\" maxlength=\\\"30\\\" [(ngModel)]=\\\"params.location.coordinates[0]\\\" name=\\\"latitude0\\\">\\n                </div>\\n                <div class=\\\"form-group col-sm-4\\\">\\n                  <label for=\\\"postal-code\\\">Longitude</label>\\n                  <input class=\\\"form-control\\\" id=\\\"postal-code\\\" placeholder=\\\"Longitude\\\" maxlength=\\\"30\\\" [(ngModel)]=\\\"params.location.coordinates[1]\\\" name=\\\"longitude0\\\">\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"form-group row\\\">\\n            <label class=\\\"col-md-3 col-form-label\\\" for=\\\"text-input\\\">Radius</label>\\n            <div class=\\\"col-md-9\\\">\\n              <div class=\\\"row\\\">\\n                <div class=\\\"form-group col-sm-12\\\">\\n                  <label for=\\\"city\\\">Radius where a user can check in (meters)</label>\\n                </div>\\n                <div class=\\\"col-sm-3\\\">\\n                  <input class=\\\"form-control\\\" id=\\\"city\\\" placeholder=\\\"Radius\\\" maxlength=\\\"30\\\" [(ngModel)]=\\\"params.radius\\\" name=\\\"radius0\\\">\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"card-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-sm btn-primary\\\" style=\\\"color: #fff;\\\" (click)=\\\"saveFormData()\\\"><i class=\\\"fa fa-floppy-o\\\" style=\\\"color: #fff;\\\"></i> Add Venue</button>\\n        <div *ngIf=\\\"success\\\" class=\\\"alert alert-success\\\">{{success}}</div>\\n        <div *ngIf=\\\"error\\\" class=\\\"alert alert-danger\\\">{{error}}</div>\\n      </div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.component.html\n// module id = ../../../../../src/app/views/new-venue/new-venue.component.html\n// module chunks = new-venue.module","import {Component, ViewChild, OnInit, TemplateRef, Input, ElementRef} from '@angular/core';\nimport { Params, ActivatedRoute, Router } from \"@angular/router\";\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { BsModalRef } from \"ngx-bootstrap\";\n\nimport {Venue, venueLocation, venueSchedule} from '../../_models/_venue';\nimport { VenueService } from '../../_services/venue.service';\n\nimport * as qs from 'qs';\n\n@Component({\n  templateUrl: 'new-venue.component.html'\n})\n\n\nexport class NewVenueComponent implements OnInit{\n\n  @ViewChild('header') header: ElementRef;\n\n  params = {\n    name : '',\n    image: '',\n    radius: 30,\n    location: {\n      type: 'Point',\n      coordinates:[]\n    },\n    schedule:[]\n  };\n  error = '';\n  success = '';\n\n\n  myTime : Date;\n  schedule : venueSchedule[] = [];\n  customImage: any;\n\n  modalForAbout:boolean = false;\n\n  public primaryModal: BsModalRef;\n\n  constructor(private venueService: VenueService,\n              private activatedRoute: ActivatedRoute,\n              private modalService: BsModalService,\n              public router: Router) {\n    this.myTime = new Date();\n  }\n\n  ngOnInit(){\n    this.header.nativeElement.innerHTML = 'New Venue';\n    this.createFakeSchedule();\n  }\n\n  stringifyDays(day:number){\n    switch(day){\n      case 1:\n        return 'Mon';\n      case 2:\n        return 'Tue';\n      case 3:\n        return 'Wed';\n      case 4:\n        return 'Thu';\n      case 5:\n        return 'Fri';\n      case 6:\n        return 'Sat';\n      case 7:\n        return 'Sun';\n    }\n  }\n  private createFakeSchedule(){\n    while(this.schedule.length < 7) {\n      let day = {\n        weekday: this.schedule.length+1, //0+1= 1, 1+1 = 2â€¦\n        openTime: new Date(),\n        closeTime: new Date(),\n        isClose: false\n      };\n      this.schedule.push(day);\n    }\n  }\n\n  fileChangeEvent(fileInput: any){\n    this.restartAlerts();\n\n    let reader = new FileReader();\n\n    reader.onload = (e: any) => {\n      this.customImage = e.target.result;\n\n    }\n    reader.readAsDataURL(fileInput.target.files[0]);\n    this.venueService.postNewImage(fileInput.target.files[0])\n      .subscribe(response => {\n          console.log(response);\n          this.params.image = response._id;\n          this.success = 'Venue image updated correctly';\n        },\n        err=>{\n          if(err.status === 401) {\n            this.venueService.logOut();\n            window.location.reload();\n          }\n          let error = JSON.parse(err._body);\n          this.error = error.localizedError;\n        });\n  }\n\n  saveFormData(){\n    var schedule = [];\n    this.schedule.map(item => {\n      if(!item.isClose){\n        schedule.push(item);\n      }\n    });\n    this.params.schedule = schedule;\n\n\n    this.venueService.postNewVenue(this.params)\n      .subscribe(response => {\n          this.router.navigate(['venues'])\n        },\n        err=>{\n          if(err.status === 401) {\n            this.venueService.logOut();\n            window.location.reload();\n          }\n          let error = JSON.parse(err._body);\n          this.error = error.localizedError;\n        });\n  }\n\n  private restartAlerts(){\n    this.error = '';\n    this.success = '';\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.component.ts","import { NgModule } from '@angular/core';\n\nimport { NewVenueComponent } from './new-venue.component';\nimport { TabsModule } from 'ngx-bootstrap/tabs';\nimport { CommonModule } from \"@angular/common\";\nimport { TimepickerModule } from \"ngx-bootstrap\";\nimport { FormsModule } from \"@angular/forms\";\nimport { NewVenueRoutingModule } from \"./new-venue-routing.module\";\n\n@NgModule({\n  imports: [\n    NewVenueRoutingModule,\n    CommonModule,\n    TabsModule,\n    TimepickerModule,\n    FormsModule\n  ],\n  declarations: [ NewVenueComponent ]\n})\nexport class NewVenueModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/develapps/bevvie-front/src/app/views/new-venue/new-venue.module.ts"],"sourceRoot":"webpack:///"}